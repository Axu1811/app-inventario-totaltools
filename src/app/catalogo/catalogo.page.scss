/* * ESTILOS GENERALES DEL CATÁLOGO 
 * Archivo: catalogo.page.scss
 * * Uso: Corregir errores de sintaxis SCSS y asegurar funcionalidad (truncamiento de texto, carrito).
 */

/* --- COLORES --- */

$brand-cyan: #00a8cc;

$brand-dark: #202020;

$whatsapp-green: #25D366;

$excel-green: #1D6F42; 

$bg-light: #f2f4f8;

$card-bg: #ffffff; 



.bg-catalogo { --background: #{$bg-light}; }



/* HEADER & BUSCADOR */

.brand-toolbar { --background: #{$brand-dark}; --color: white; }

.brand-text { font-weight: 900; letter-spacing: 1px; font-style: italic; font-size: 18px; }

.cart-btn { 

    position: relative; 

    --color: #{$brand-cyan}; 

    .cart-dot { 

        position: absolute; 

        top: 5px; 

        right: 0px; 

        width: 18px; 

        height: 18px; 

        background: #{$brand-cyan}; 

        border-radius: 50%; 

        color: white; 

        font-size: 10px; 

        font-weight: bold; 

        display: flex; 

        align-items: center; 

        justify-content: center; 

        border: 2px solid #{$brand-dark}; 

    } 

}



.search-toolbar { 

    --background: #{$brand-dark}; 

    padding-bottom: 10px; 

    border-bottom-left-radius: 20px; 

    border-bottom-right-radius: 20px; 

    .custom-search { 

        --background: white; 

        --border-radius: 10px; 

        --placeholder-color: #888; 

        --icon-color: #{$brand-dark}; 

        padding-inline-start: 10px; 

        padding-inline-end: 10px; 

        height: 45px; 

    } 

}



/* BANNER */

.promo-banner { 

    background: linear-gradient(135deg, #2d3436 0%, #000000 100%); 

    margin: 15px; 

    border-radius: 15px; 

    padding: 20px; 

    position: relative; 

    overflow: hidden; 

    height: 140px; 

    box-shadow: 0 8px 20px rgba(0,0,0,0.2); 

    display: flex; 

    align-items: center; 

    .promo-content { 

        z-index: 2; 

        h3 { 

            color: white; 

            font-weight: 900; 

            margin: 0; 

            font-size: 20px; 

            line-height: 1.1; 

        } 

        .cyan-text { color: $brand-cyan; } 

        p { color: #ccc; font-size: 12px; margin-top: 5px; } 

    } 

    .promo-img { 

        position: absolute; 

        right: -20px; 

        bottom: -20px; 

        height: 160px; 

        transform: rotate(-10deg); 

        z-index: 1; 

    } 

}



.section-header { 

    display: flex; 

    justify-content: space-between; 

    align-items: center; 

    margin-bottom: 10px; 

    margin-top: 20px; 

    h4 { margin: 0; font-weight: 800; color: #333; } 

    .badge-count { 

        background: #eee; 

        padding: 2px 8px; 

        border-radius: 10px; 

        font-size: 10px; 

        color: #666; 

        font-weight: 700; 

    } 

}



/* =========================================
   DISEÑO PREMIUM & MODERNO (TARJETAS)
   ========================================= */

.product-grid {
    padding: 15px 10px; /* Un poco más de aire alrededor */
}

.modern-card {
    background: #ffffff;
    border-radius: 24px; /* Bordes MUY redondeados */
    margin: 10px;
    padding: 12px;
    position: relative;
    /* Sombra difusa, suave y moderna (Efecto "Flotar") */
    box-shadow: 0 12px 30px rgba(0, 0, 0, 0.05), 0 4px 8px rgba(0,0,0,0.02);
    border: 1px solid rgba(255, 255, 255, 0.5);
    transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
    overflow: visible; 

    /* Efecto sutil al tocar en móviles */
    &:active {
        transform: scale(0.97);
    }
}

/* 1. Badge Flotante (Píldora) */
.floating-badge {
    position: absolute;
    top: 12px;
    left: 12px;
    z-index: 10;
    background: rgba(255, 255, 255, 0.95);
    color: $brand-dark;
    padding: 5px 10px;
    border-radius: 20px; /* Forma de píldora */
    font-size: 10px;
    font-weight: 800;
    text-transform: uppercase;
    display: flex;
    align-items: center;
    gap: 4px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.08);
    backdrop-filter: blur(8px); /* Efecto vidrio esmerilado */

    ion-icon { font-size: 14px; color: $brand-cyan; }

    &.no-stock {
        background: #fff0f0;
        color: #e74c3c;
        ion-icon { color: #e74c3c; }
    }
}

/* 2. Contenedor de Imagen */
.card-image-wrapper {
    height: 150px; /* Un poco más altas */
    background: #f4f7fb; /* Fondo gris azulado muy premium */
    border-radius: 18px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 12px;
    padding: 15px;
    
    img {
        max-height: 100%;
        max-width: 100%;
        object-fit: contain;
        /* Sombra suave a la herramienta misma para separarla del fondo */
        filter: drop-shadow(0 8px 12px rgba(0,0,0,0.1)); 
        transition: transform 0.3s ease;
    }
}

/* 3. Contenido de Texto */
.card-content {
    padding: 0 4px;

    .sku-pill {
        display: inline-block;
        font-size: 9px;
        font-weight: 800;
        color: #aaa;
        background: #f2f2f2;
        padding: 3px 7px;
        border-radius: 6px;
        margin-bottom: 8px;
        letter-spacing: 0.5px;
    }

    .product-title {
        font-size: 13px;
        font-weight: 700;
        color: #1a1a1a;
        margin: 0 0 15px 0;
        line-height: 1.3;
        height: 34px;
        
        display: -webkit-box;
        -webkit-line-clamp: 2;
        line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }
}

/* 4. Footer de Acción (Precio y Botón) */
.action-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;

    .price-group {
        display: flex;
        align-items: baseline;
        
        .currency {
            font-size: 12px;
            color: $brand-dark;
            font-weight: 600;
            margin-right: 2px;
        }
        .amount {
            font-size: 20px; /* Precio más grande y notorio */
            font-weight: 900;
            color: $brand-dark;
            letter-spacing: -0.5px;
        }
    }

    /* EL BOTÓN CIRCULAR MODERNO */
    .add-btn-circle {
        /* Usamos el color oscuro de la marca para el fondo */
        --background: #{$brand-dark}; 
        /* El ícono será del color Cyan para contraste vibrante */
        --color: #{$brand-cyan};
        --border-radius: 50%; /* Círculo perfecto */
        --padding-start: 0;
        --padding-end: 0;
        
        width: 42px;
        height: 42px;
        margin: 0;
        
        /* Sombra para que el botón resalte */
        box-shadow: 0 6px 15px rgba(0,0,0,0.25);
        transition: transform 0.2s;

        ion-icon {
            font-size: 24px;
            font-weight: 900; /* Icono más grueso */
        }

        &[disabled] {
            --background: #e0e0e0;
            --color: #aaa;
            box-shadow: none;
            opacity: 0.7;
        }
    }
}


/* --- ESTADOS VACÍOS GENERALES --- */

.empty-state { text-align: center; margin-top: 50px; color: #aaa; ion-icon { font-size: 48px; margin-bottom: 10px; } }




/* ==========================================================
 * ESTILOS DEL MODAL DE CARRITO
 * ========================================================== */

.cart-modal {
    .title-text {
        font-weight: 800;
        color: #111;
        font-size: 1.2rem;
    }
    ion-header ion-toolbar {
        --background: #f7f7f7; 
    }
    ion-buttons ion-button {
        --padding-end: 10px;
        --padding-start: 10px;
    }

    /* Contenido */
    .cart-content {
        --padding-start: 15px;
        --padding-end: 15px;
        --padding-top: 15px;
        --padding-bottom: 0; 
        background: #f7f7f7;
    }

    /* LISTA DE PRODUCTOS */
    .cart-list {
        display: flex;
        flex-direction: column;
        gap: 10px;
    }

    .cart-item-card {
        display: flex;
        align-items: center;
        background: $card-bg;
        padding: 10px;
        border-radius: 12px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
    }

    .item-thumb {
        width: 60px;
        height: 60px;
        min-width: 60px; 
        margin-right: 10px;
        border-radius: 8px;
        background: #f0f0f0;
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }
    }

    .item-info {
        flex-grow: 1;
        display: flex;
        flex-direction: column;
        justify-content: center;
        margin-right: 10px;

        .item-sku {
            font-size: 0.7rem;
            color: $brand-cyan;
            font-weight: 700;
            margin-bottom: 2px;
        }

        .item-title {
            font-size: 0.9rem;
            font-weight: 600;
            color: #333;
            margin: 0;
            line-height: 1.2;
        }

        .item-price {
            font-size: 0.8rem;
            color: #555;
            margin-top: 4px;
        }
    }

    .item-actions {
        display: flex;
        flex-direction: column;
        align-items: flex-end;
        gap: 8px; 
        margin-left: 10px;
    }

    /* Selector de Cantidad */
    .qty-selector {
        display: flex;
        align-items: center;
        background: #f0f0f0;
        border-radius: 8px;
        overflow: hidden;
        
        .qty-btn {
            --background: transparent;
            --background-activated: #ddd;
            height: 32px; 
            width: 32px; 
            --padding-start: 0;
            --padding-end: 0;
            margin: 0;
            color: $brand-dark;
            
            &[disabled] {
                opacity: 0.5;
            }
        }

        .qty-value {
            font-size: 0.9rem;
            font-weight: 600;
            color: $brand-dark;
            padding: 0 5px;
            min-width: 25px; 
            text-align: center;
        }
    }
    
    /* Botón de Borrar (pequeño) */
    .delete-item-btn {
        background: transparent;
        border: none;
        color: #ff5757;
        padding: 5px;
        cursor: pointer;
        font-size: 1.2rem; 
        line-height: 1;
        transition: transform 0.2s;
        
        &:hover {
            transform: scale(1.1);
        }
    }

    /* FOOTER DEL MODAL */
    .cart-footer {
        background: #ffffff;
        padding: 15px;
        box-shadow: 0 -4px 10px rgba(0, 0, 0, 0.05);

        .footer-details {
            padding-bottom: 10px;
        }

        .total-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 1rem;
            font-weight: 500;
            margin-bottom: 5px;

            strong {
                color: $brand-dark;
                font-weight: 800;
            }
        }

        .whatsapp-note {
            display: flex;
            align-items: center;
            font-size: 0.8rem;
            color: #666;
            margin: 0 0 15px 0;
            ion-icon {
                color: $whatsapp-green;
                font-size: 1.1rem;
                margin-right: 5px;
            }
        }

        .final-action-btn {
            /* Forzamos el color de fondo con el código HEX directo para evitar fallos de variables */
            --background: #1D6F42; 
            
            /* Aseguramos que el texto sea blanco */
            --color: #ffffff;
            color: #ffffff; 

            --background-activated: #145231; /* Un verde un poco más oscuro al presionar */
            --border-radius: 12px;
            
            height: 50px;
            font-size: 1rem;
            font-weight: 700;
            
            /* Sombra para darle relieve */
            box-shadow: 0 4px 15px rgba(29, 111, 66, 0.4); 
            
            /* Asegura que el botón se estire si es necesario */
            width: 100%; 
            margin-top: 10px;
        }
    }

    /* Carrito Vacío */
    .empty-cart-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-align: center;
        height: 100%;
        padding: 50px 0;

        ion-icon {
            font-size: 5rem;
            color: #ccc;
            margin-bottom: 20px;
        }

        h3 {
            font-weight: 700;
            color: #333;
            margin: 0;
        }

        p {
            color: #999;
            margin: 5px 0 20px 0;
        }

      .back-shop-btn {
            /* Forzamos el color Cyan directamente */
            --background: #00a8cc; 
            
            /* Aseguramos que el texto sea blanco y visible */
            --color: #ffffff;
            color: #ffffff;
            
            --background-activated: #0085a3; /* Un poco más oscuro al presionar */
            --border-radius: 10px;
            
            /* Le damos un tamaño y peso para que se vea bien */
            font-weight: 700;
            height: 45px;
            min-width: 200px; /* Para que no se vea muy angosto */
            box-shadow: 0 4px 10px rgba(0, 168, 204, 0.3);
        }
    }

}